{% extends "master.html" %}

{% block title %}
    Lista dos alunos
{% endblock %}

{% block content %}

    {% include "header.html" %}

    <div class="row">
        <div class="col"></div>
        <div class="col">
            <div class="container p-5 my-5 border"> 

                <div class="row mb-4">
                    <div class="col">
                        <a href="/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
                            </svg>
                        </a>
                    </div>
                    <div class="col-6">
                        <h2 class="text-center">Alunos</h2>
                    </div>
                    <div class="col"></div>
                </div> 

                <div class="container px-1 my-2">
                    <form method="GET">
                        <input type="text" name="aluno" placeholder="Buscar aluno">
                        <button type="submit">Buscar</button>
                    </form>
                </div>

                <ul class="list-group list-group-flush">
                    {% for x in alunosValues %}
                    <li class="list-group-item"> <a href="alunoInfo/{{ x.id }}"> {{ x.nome }} {{ x.sobrenome }}</a> </li>
                    {% endfor %}
                </ul>
                
                <div class="container px-0 mt-4">
                    <a href="{% url 'criar_aluno'%}">
                        <button type="button" class="btn btn-outline-dark">
                            Criar novo aluno
                        </button> 
                    </a>
                </div>
              
            </div>
        </div>
        <div class="col">
            <div class="row">
                <div class="col-2"></div>

                <!--############ FILTROS ############-->
                
                    <div class="col-4">
                        <div class="container p-4 my-5 border">
                            <form action="{% url 'alunos' %}" method="GET">
                                <h5 class="text-center mb-3"> Filtros </h5>
                                <h6>Defendeu:</h6>
                                <div class="container pl-4">
                                    <input type="radio" id="sim" name="defendeu" value="0" {% if request.GET.defendeu_sim %}checked{% endif %}>
                                    <label for="sim">Sim</label>
                                </div>
                                <div class="container pt-0">
                                    <input type="radio" id="nao" name="defendeu" value="1" {% if request.GET.defendeu_nao %}checked{% endif %}>
                                    <label for="nao">NÃ£o</label>
                                </div>

                                <h6> Turmas: </h6>
                                {% for turma in turmas %}   
                                <div class="container pl-0"> 
                                    <input type="checkbox" id="turma{{ turma.id }}" name="turma" value="{{ turma.id }}" {% if turma.id|stringformat:"s" in turmas_selecionadas %}checked{% endif %}>
                                    <label for="turma{{ turma.id }}">{{ turma.nome }}</label>
                                </div>
                                {% endfor %}
                                
                                <button type="submit">Filtrar</button>

                            </form>
                        </div>
                    </div>

                <div class="col-6"></div>

            </div>
        </div>

    </div> 

    <!-- 
        <div>
            <div class="text-center mt-4">
                <button class="btn btn-outline-primary btn-sm rounded-pill" type="button" data-bs-toggle="collapse" data-bs-target="#def" aria-expanded="false" aria-controls="def">
                    alunos q defenderam
                </button>
            </div>

            <div id="def" class="collapse">
                <p> total: {{contador}} </p>
                <ul>
                    {% for aluno in aluno_defendeu %}
                        <li> <a href="/alunos/alunoInfo/{{ aluno.id }}/">{{ aluno.nome }} {{ aluno.sobrenome }}</a> </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    -->

{% endblock %}